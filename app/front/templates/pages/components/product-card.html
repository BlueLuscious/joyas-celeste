{% load static %}
{% load unicorn %}
{% load filters.product_filter %}

<div class="relative flex flex-col items-center w-full bg-white text-lg mukta-light 
    rounded-lg shadow-xl transform transition-transform duration-300 ease-in-out hover:scale-105">
    
    {% if request.user.is_authenticated %}
    <button type="button" onclick="addToCart('{{ product.uuid }}')"
        class="absolute top-2 right-2 p-1 bg-white rounded-md shadow-md cursor-pointer">
        {% include "../../icons/shopping-bag-add.html" %}
    </button>
    {% endif %}

    <div class="w-full">
        <a href="{% url 'product' name=product.slug %}">
            <img class="w-full rounded-t-lg" src="{{ product.image|image_or_default }}" alt="image">
        </a>
    </div>
    <div class="w-full p-2 text-center text-xl">
        {{ product.name }}
    </div>
    <div class="w-full p-2 text-center font-semibold">
        $ {{ product.price|convert_price_to_ARS:dollar_blue|format_number_AR }}
    </div>
    <form id="product_form_{{ product.uuid }}" class="flex flex-col items-center w-full">
        {% csrf_token %}
        {% unicorn "product-variation" product=product %}
    </form>
</div>
