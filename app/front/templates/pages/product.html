{% extends "base.html" %}
{% load static %}
{% load filters.product_filter %}

{% block content %}
<head>

</head>
<body>
    <section class="relative w-full pt-36 pb-12">
        <div class="relative grid grid-cols-1 md:grid-cols-2 w-full gap-y-12 px-8 
            md:gap-x-20 md:px-16 lg:gap-x-36 lg:px-32">

            <div class="relative flex flex-col items-center w-full bg-white text-lg mukta-light rounded-lg shadow-xl">
                <div class="w-full overflow-hidden rounded-lg" id="image_container">
                    <img class="w-full transition-transform duration-500 ease-in-out transform" 
                        id="zoom_image" src="{{ product.image|image_or_default }}" alt="image">
                </div>
                <button type="button" id="add_to_cart_{{ product.slug }}" data-id="{{ product.uuid }}"
                    class="absolute top-2 right-2 p-1 bg-white rounded-md shadow-md cursor-pointer">
                    {% include "../icons/shopping-bag-add.html" %}
                </button>
            </div>

            <div class="relative flex flex-col items-center w-full bg-white text-lg mukta-light rounded-lg shadow-xl">
                <div class="w-full p-2 text-center">
                    {{ product.name }}
                </div>
                <div class="p-2 font-semibold">
                    $ {{ product.price|convert_price_to_ARS:dollar_blue|format_number_AR }}
                </div>
                <form id="product_form_{{ product.uuid }}">
                    {% csrf_token %}
                    <div class="flex flex-row items-center justify-center gap-x-2 w-full p-2 text-center">
                        <div>Talles:</div>
                        <select id="product_size" name="product_size" class="w-1/3 text-center text-primary-earth_tone_4 
                            border border-2 border-primary-earth_tone_4 rounded-md outline-none cursor-pointer">
                            {% for measure in product.measures.all %}
                            <option value="{{ measure.size }}"> {{ measure.size }} </option>
                            {% endfor %}
                        </select>
                    </div>
                    <input type="number" id="product_price" name="product_price" 
                        value="{{ product.price|convert_price_to_ARS:dollar_blue }}" hidden />
                </form>
                <div class="p-2">
                    Stock: {{ product.stock }}
                </div>
                <div class="p-2">
                    Categor√≠a: {{ product.category.name }}
                </div>
            </div>
            
        </div>
    </section>
</body>

<script src="{% static 'js/product.js' %}"></script>

{% endblock content %}
